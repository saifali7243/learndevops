{
  "title": "JARVIS ‚Äì Ultimate DevOps War Room",
  "timezone": "browser",
  "refresh": "5s",
  "schemaVersion": 38,
  "version": 1,
  "style": "dark",
  "tags": ["jarvis", "ultimate", "devops"],
  "time": { "from": "now-30m", "to": "now" },

  "templating": {
    "list": [
      {
        "name": "container",
        "type": "query",
        "datasource": "Prometheus",
        "query": "label_values(container_cpu_usage_seconds_total, container)",
        "multi": true,
        "includeAll": true
      }
    ]
  },

  "panels": [

    {
      "type": "gauge",
      "title": "üî• HERO ‚Äì HOST MEMORY %",
      "gridPos": { "h": 10, "w": 24, "x": 0, "y": 0 },
      "targets": [
        {
          "expr": "(1 - (node_memory_MemAvailable_bytes / node_memory_MemTotal_bytes)) * 100",
          "instant": true,
          "refId": "A"
        }
      ],
      "fieldConfig": {
        "defaults": {
          "unit": "percent",
          "min": 0,
          "max": 100,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              { "color": "#00ffff", "value": null },
              { "color": "#ffaa00", "value": 70 },
              { "color": "#ff0033", "value": 85 }
            ]
          }
        }
      }
    },

    {
      "type": "timeseries",
      "title": "üíæ Disk I/O (Read / Write)",
      "gridPos": { "h": 8, "w": 24, "x": 0, "y": 10 },
      "targets": [
        {
          "expr": "rate(node_disk_read_bytes_total[5m])",
          "legendFormat": "Read {{device}}",
          "refId": "A"
        },
        {
          "expr": "rate(node_disk_written_bytes_total[5m])",
          "legendFormat": "Write {{device}}",
          "refId": "B"
        }
      ],
      "fieldConfig": {
        "defaults": { "unit": "bytes" }
      }
    },

    {
      "type": "timeseries",
      "title": "üå° System Temperature (¬∞C)",
      "gridPos": { "h": 8, "w": 24, "x": 0, "y": 18 },
      "targets": [
        {
          "expr": "node_hwmon_temp_celsius",
          "legendFormat": "{{chip}}",
          "refId": "A"
        }
      ],
      "fieldConfig": {
        "defaults": {
          "unit": "celsius",
          "thresholds": {
            "mode": "absolute",
            "steps": [
              { "color": "#00ffcc", "value": null },
              { "color": "#ffaa00", "value": 70 },
              { "color": "#ff0033", "value": 85 }
            ]
          }
        }
      }
    },

    {
      "type": "timeseries",
      "title": "‚ö° CPU Per Core ‚Äì Radial View",
      "gridPos": { "h": 10, "w": 24, "x": 0, "y": 26 },
      "targets": [
        {
          "expr": "100 - (rate(node_cpu_seconds_total{mode=\"idle\"}[5m]) * 100)",
          "legendFormat": "Core {{cpu}}",
          "refId": "A"
        }
      ],
      "fieldConfig": {
        "defaults": { "unit": "percent" }
      }
    },

    {
      "type": "timeseries",
      "title": "üê≥ Container CPU %",
      "gridPos": { "h": 8, "w": 24, "x": 0, "y": 36 },
      "targets": [
        {
          "expr": "sum(rate(container_cpu_usage_seconds_total{container=~\"$container\"}[5m])) by (container) * 100",
          "legendFormat": "{{container}}",
          "refId": "A"
        }
      ],
      "fieldConfig": { "defaults": { "unit": "percent" } }
    },

    {
      "type": "timeseries",
      "title": "üê≥ Container Memory (MB)",
      "gridPos": { "h": 8, "w": 24, "x": 0, "y": 44 },
      "targets": [
        {
          "expr": "container_memory_usage_bytes{container=~\"$container\"} / 1024 / 1024",
          "legendFormat": "{{container}}",
          "refId": "A"
        }
      ],
      "fieldConfig": { "defaults": { "unit": "megabytes" } }
    },

    {
      "type": "stat",
      "title": "üö® Live Error Rate (req/sec)",
      "gridPos": { "h": 6, "w": 12, "x": 0, "y": 52 },
      "targets": [
        {
          "expr": "rate(app_errors_total[5m])",
          "instant": true,
          "refId": "A"
        }
      ]
    },

    {
      "type": "stat",
      "title": "üìä Total Errors",
      "gridPos": { "h": 6, "w": 12, "x": 12, "y": 52 },
      "targets": [
        {
          "expr": "app_errors_total",
          "instant": true,
          "refId": "A"
        }
      ]
    }

  ]
}